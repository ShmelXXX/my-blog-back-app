 # my-blog-back-app v.2

## **Курс Yandex practicum. Middle Java-developer. Sprint4.**

Данная программа является модификацией бэкенда приложения **"Мой блог"** созданного в Спринте №3.

## Запуск
Склонируйте репозиторий и выполните:
```bash
./gradlew bootRun
```

## Отличия от версии Спринта №3:
- cборка приложения осуществляется с помощью систем сборки Gradle
- приложение переписано с использованием фреймворка SpringBoot v.4.0.2
- приложение упаковаеся в ExecutableJar и запускается во встроенном сервлет-контейнере Tomcat
- тесты скорректированы под библиотеку Spring Boot Test
- классы моделей переписаны с использованием библиотеки Lombok

## Осталось без изменений с версии Спринта №3:
- Код приложения написан на Java 21.
- Бэкенд принимает REST-запросы от фронтенда на http://localhost:8080/, отправляет SQL-запросы на создание/получение/изменение/удаление данных в БД, формирует ответ и возвращает фронтенд.
- Сохранение изображений постов выполяется в удаленный репозиторий **MiniO**
- Используется встроенная H2 (in-memory). Схема и тестовые данные создаются автоматически из файла `schema-posts.sql`. Данные не сохраняются между перезапусками приложения
- Т.к. версия Frontend'а не менялась, замечания остались теми же
  


### При разработке были выявлены следующие замечания к работе Frontend'а:

1. ##### PUT: /api/posts/1/comments/2
*Редактирование комментария к посту (страница поста) — метод PUT: /api/posts/1/comments/2, где 1 — идентификатор поста, 2 — идентификатор комментария.*

В поле запроса вместо номера поста дублируется номер комментария.

Для  корректной работы, в бэкенде исключена проверка на соответствие комментария номеру поста

2. ##### GET /api/posts/{postId}/comments 
*Получение всех комментариев поста*

В поле postid часто прилетает “undefined” 

Установлена заглушка для корректной обработки такого запроса.

3.	 ##### DELETE  /api/posts/1/comments/2

Номер поста избыточен, т.к. используется сквозная нумерация комментариев
